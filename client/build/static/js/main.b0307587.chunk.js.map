{"version":3,"sources":["utils/UserContext.js","pages/LoginPage.js","pages/RegisterPage.js","App.js","index.js"],"names":["UserContext","React","createContext","loginUser","credentials","a","fetch","method","headers","body","JSON","stringify","then","data","json","LoginPage","setUser","useContext","useState","username","setUserName","password","setPassword","handleSubmit","e","preventDefault","user","className","onSubmit","type","onChange","target","value","onClick","window","location","assign","registerUser","RegisterPage","newUser","setNewUser","companyName","phone","App","exact","path","Provider","to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b0307587.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst UserContext = React.createContext()\r\n\r\nexport default UserContext;","import React, { useContext, useState } from \"react\";\r\nimport UserContext from \"../utils/UserContext\";\r\n\r\nasync function loginUser(credentials) {\r\n    return fetch('/api/account/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(credentials)\r\n    })\r\n      .then(data => data.json())\r\n   }\r\n\r\nexport default function LoginPage() {\r\n    const { setUser } = useContext(UserContext);\r\n    const [username, setUserName] = useState();\r\n    const [password, setPassword] = useState();\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        const user = await loginUser({\r\n          username,\r\n          password\r\n        });\r\n        setUser(user);\r\n      };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1 className=\"bg-info text-white\">Please Log In</h1>\r\n            <form className=\"mb-5\" onSubmit={handleSubmit}>\r\n                <label>\r\n                    <p>Username</p>\r\n                    <input type=\"text\" onChange={e => setUserName(e.target.value)} />\r\n                </label>\r\n                <label>\r\n                    <p>Password</p>\r\n                    <input type=\"password\" onChange={e => setPassword(e.target.value)} />\r\n                </label>\r\n                <div>\r\n                    <button type=\"submit\">Submit</button>\r\n                </div>\r\n            </form>\r\n            <div onClick={()=> window.location.assign(\"/register\")} className=\"btn btn-primary\">Register</div>\r\n        </div>\r\n    )\r\n}","import React, { useContext, useState } from \"react\";\r\nimport UserContext from \"../utils/UserContext\";\r\n\r\nasync function registerUser(credentials) {\r\n  return fetch('/api/login', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(credentials)\r\n  })\r\n    .then(data => data.json())\r\n}\r\n\r\nexport default function RegisterPage() {\r\n  const { setUser } = useContext(UserContext);\r\n  const [newUser, setNewUser] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const user = await registerUser({\r\n      ...newUser\r\n    });\r\n    // Add display error incase registration fails\r\n    setUser(user);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"bg-info text-white\">Register New User</h1>\r\n      <form className=\"mb-5\" onSubmit={handleSubmit}>\r\n        <label>\r\n          <p>Username</p>\r\n          <input type=\"text\" onChange={e => setNewUser({ ...newUser, username: e.target.value })} />\r\n        </label>\r\n        <label>\r\n          <p>Password</p>\r\n          <input type=\"password\" onChange={e => setNewUser({ ...newUser, password: e.target.value })} />\r\n        </label>\r\n        <label>\r\n          <p>Type</p>\r\n          <input type=\"text\" onChange={e => setNewUser({ ...newUser, type: e.target.value })} />\r\n        </label>\r\n        <label>\r\n          <p>Company Name</p>\r\n          <input type=\"text\" onChange={e => setNewUser({ ...newUser, companyName: e.target.value })} />\r\n        </label>\r\n        <label>\r\n          <p>Location</p>\r\n          <input type=\"text\" onChange={e => setNewUser({ ...newUser, location: e.target.value })} />\r\n        </label>\r\n        <label>\r\n          <p>Phone Number</p>\r\n          <input type=\"number\" onChange={e => setNewUser({ ...newUser, phone: e.target.value })} />\r\n        </label>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n      <div onClick={()=> window.location.assign(\"/login\")} className=\"btn btn-primary\">Login</div>\r\n    </div>\r\n  )\r\n}","import React, { useState } from \"react\";\r\nimport { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport UserContext from \"./utils/UserContext\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport RegisterPage from \"./pages/RegisterPage\";\r\n\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState();\r\n\r\n\r\n  if (!user) {\r\n    return (\r\n      <UserContext.Provider value={{ user, setUser }}>\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/login\">\r\n              <LoginPage />\r\n            </Route>\r\n            <Route exact path=\"/register\" >\r\n              <RegisterPage />\r\n            </Route>\r\n            <Redirect to=\"/login\" />\r\n          </Switch>\r\n        </Router>\r\n      </UserContext.Provider>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n        <Switch>\r\n          <Route exact path={[\"/customer/dashboard\"]}>\r\n            <h1>Customer Dashboard</h1>\r\n          </Route>\r\n          <Route exact path={[\"/carrier/dashboard\"]}>\r\n            <h1>Carrier Dashboard</h1>\r\n          </Route>\r\n        </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}