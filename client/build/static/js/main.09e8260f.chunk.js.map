{"version":3,"sources":["utils/UserContext.js","pages/LoginPage.js","pages/RegisterPage.js","components/LogoutLink.js","components/Starchart.js","components/NewOrderForm.js","components/CustomerShippingOrders.js","pages/CustomerDashboard.js","components/CarrierShippingOrders.js","components/AvailableOrders.js","pages/CarrierDashboard.js","pages/RepresentativeDashboard.js","components/ProtectedRoute.js","components/CheckIfLoggedIn.js","App.js","index.js"],"names":["UserContext","React","createContext","loginUser","credentials","a","axios","post","then","data","catch","err","LoginPage","setUser","useContext","useState","username","setUserName","password","setPassword","enabled","route","redirect","setRedirect","loginError","setLoginError","handleSubmit","e","preventDefault","user","setTimeout","localStorage","setItem","JSON","stringify","decodedUser","jwt","decode","className","console","log","to","renderRedirect","onSubmit","type","onChange","target","value","onClick","renderError","registerUser","RegisterPage","newUser","setNewUser","error","companyName","location","phone","LogoutLink","clear","Starchart","props","shippingRoute","starchart","chart","mapScale","setMapScale","xOffset","yOffset","width","height","viewBox","setViewBox","handleScale","newScale","onMouseDown","startingX","pageX","startingY","pageY","currentXOffset","currentYOffset","onMouseMove","newXOffset","newYOffset","document","addEventListener","handleMouseUp","removeEventListener","handleMouseDown","onDragStart","id","style","backgroundImage","complete","map","planet","connections","filter","x","connection","planetB","find","p","name","key","uuidv4","stroke","strokeWidth","x1","xCord","y1","yCord","x2","y2","renderRoutes","cx","cy","r","fill","index","length","renderRoute","fontSize","WebkitTouchCallout","WebkitUserSelect","khtmlUserSelect","MozUserSelect","msUserSelect","UserSelect","y","renderPlanetNames2","renderPlanetNames","position","top","left","NewOrderForm","options","newOrder","setNewOrder","calculating","setCalculating","orderReady","setOrderReady","setShippingRoute","useEffect","startPoint","endPoint","customer","response","option","label","disabled","distance","customerCharge","renderCalculateBtn","renderCostSumbit","CustomerShippingOrder","displayOrders","order","carrier","status","CustomerDashboard","setStarchart","setDisplayOrders","get","CarrierShippingOrder","currentTarget","dataset","div_status","put","div_id","handleStatusUpdate","data-div_id","_id","data-div_status","AvailableOrders","availableOrders","setAvailableOrders","pageNumber","setPageNumber","claimOrder","pageArray","push","renderOrders","CarrierDashboard","RepresentativeDashboard","ProtectedRoute","children","App","localUserToken","parse","getItem","localUser","Provider","exact","path","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.09e8260f.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst UserContext = React.createContext()\r\n\r\nexport default UserContext;","import React, { useContext, useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../utils/UserContext\";\r\nimport axios from \"axios\";\r\nimport jwt from \"jwt-simple\";\r\n\r\nasync function loginUser(credentials) {\r\n  return axios.post('/api/login', { ...credentials })\r\n    .then(data => data).catch((err) => {\r\n      return \"Error\";\r\n    })\r\n}\r\n\r\nexport default function LoginPage() {\r\n  const secret = \"blackhole\";\r\n  const { setUser } = useContext(UserContext);\r\n  const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [redirect, setRedirect] = useState({ enabled: false, route: \"\" });\r\n  const [loginError, setLoginError] = useState(false);\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const user = await loginUser({\r\n      username,\r\n      password\r\n    });\r\n    if (user === \"Error\") {\r\n      setLoginError(true);\r\n      setTimeout(() => {\r\n        setLoginError(false);\r\n      }, 3000);\r\n    } else {\r\n      localStorage.setItem(\"userToken\",JSON.stringify(user.data));\r\n      const decodedUser = jwt.decode(user.data,secret);\r\n      await setUser(decodedUser);\r\n    }\r\n  };\r\n\r\n  const renderRedirect = () => {\r\n    if (redirect.enabled) {\r\n      console.log(\"redirecting\");\r\n      console.log(redirect.route);\r\n      return <Redirect to={redirect.route} />\r\n    }\r\n  }\r\n\r\n  const renderError = () => {\r\n    if (loginError) {\r\n      return <div className=\"warning\">Incorrect login credentials</div>\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {renderRedirect()}\r\n      <h1 className=\"bg-info text-white\">Please Log In</h1>\r\n      <form className=\"mb-5\" onSubmit={handleSubmit}>\r\n        <label>\r\n          <p>Username</p>\r\n          <input type=\"text\" onChange={e => setUserName(e.target.value)} />\r\n        </label>\r\n        <label>\r\n          <p>Password</p>\r\n          <input type=\"password\" onChange={e => setPassword(e.target.value)} />\r\n\r\n        </label>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n      <div onClick={() => setRedirect({ enabled: true, route: \"/register\" })} className=\"btn btn-primary\">Register</div>\r\n      {renderError()}\r\n    </div>\r\n  )\r\n}","import React, { useContext, useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../utils/UserContext\";\r\nimport axios from \"axios\";\r\nimport jwt from \"jwt-simple\";\r\n\r\nasync function registerUser(credentials) {\r\n  return axios.post('/api/register', { ...credentials })\r\n    .then(data => data).catch((err) => {\r\n      return \"Error\";\r\n    })\r\n}\r\n\r\nexport default function RegisterPage() {\r\n  const secret = \"blackhole\";\r\n  const { setUser } = useContext(UserContext);\r\n  const [newUser, setNewUser] = useState({ type: \"customer\" });\r\n  const [loginError, setLoginError] = useState(false);\r\n  const [redirect, setRedirect] = useState({ enabled: false, route: \"\" });\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const user = await registerUser({\r\n      ...newUser\r\n    });\r\n    console.log(user);\r\n    if (user.data.error) {\r\n      setLoginError(true);\r\n      setTimeout(() => {\r\n        setLoginError(false);\r\n      }, 3000);\r\n    } else {\r\n      localStorage.setItem(\"userToken\",JSON.stringify(user.data));\r\n      const decodedUser = jwt.decode(user.data,secret);\r\n      await setUser(decodedUser);\r\n      setRedirect({ enabled: true, route: \"/\" + user.data.type + \"/dashboard\" });\r\n    }\r\n  };\r\n\r\n  const renderRedirect = () => {\r\n    if (redirect.enabled) {\r\n      return <Redirect to={redirect.route} />\r\n    }\r\n  }\r\n\r\n  const renderError = () => {\r\n    if (loginError) {\r\n      return <div className=\"warning\">Failed to create user</div>\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {renderRedirect()}\r\n      <h1 className=\"bg-info text-white\">Register New User</h1>\r\n      <form className=\"mb-5\" onSubmit={handleSubmit}>\r\n        <label>\r\n          <p>Username</p>\r\n          <input type=\"text\" onChange={e => setNewUser({ ...newUser, username: e.target.value })} />\r\n        </label>\r\n        <label>\r\n          <p>Password</p>\r\n          <input type=\"password\" onChange={e => setNewUser({ ...newUser, password: e.target.value })} />\r\n        </label>\r\n        <label>\r\n          <p>Type</p>\r\n          <select className=\"p-1\" type=\"text\" onChange={e => setNewUser({ ...newUser, type: e.target.value })} >\r\n            <option value=\"customer\">Customer</option>\r\n            <option value=\"carrier\">Carrier</option>\r\n            <option value=\"rep\">Representative</option>\r\n          </select>\r\n        </label>\r\n        <label>\r\n          <p>Company Name</p>\r\n          <input type=\"text\" onChange={e => setNewUser({ ...newUser, companyName: e.target.value })} />\r\n        </label>\r\n        <label>\r\n          <p>Location</p>\r\n          <input type=\"text\" onChange={e => setNewUser({ ...newUser, location: e.target.value })} />\r\n        </label>\r\n        <label>\r\n          <p>Phone Number</p>\r\n          <input type=\"number\" onChange={e => setNewUser({ ...newUser, phone: e.target.value })} />\r\n        </label>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n      <div onClick={() => setRedirect({ enabled: true, route: \"/login\" })} className=\"btn btn-primary\">Login</div>\r\n      {renderError()}\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport UserContext from \"../utils/UserContext\";\r\n\r\nexport default function LogoutLink(){\r\n    const { setUser } = useContext(UserContext);\r\n\r\n    const logOut = () => {\r\n        localStorage.clear();\r\n        setUser();\r\n    }\r\n\r\n    return(\r\n        <div onClick={()=> logOut()} className=\"inline btn btn-outline-dark\">Logout</div>\r\n    )\r\n}","import React, { useState } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport default function Starchart(props) {\r\n    const shippingRoute = props.route;\r\n    const starchart = props.chart;\r\n    const [mapScale, setMapScale] = useState(150);\r\n    const [viewBox, setViewBox] = useState({\r\n        xOffset: 200,\r\n        yOffset: 70,\r\n        width: 400,\r\n        height: 250\r\n    });\r\n\r\n    function renderPlanets() {\r\n        return (\r\n            starchart.map((planet) => {\r\n                return <circle name={planet.name} key={planet.name} cx={planet.xCord} cy={planet.yCord} r=\"5\" fill=\"white\" />;\r\n            })\r\n        )\r\n    }\r\n\r\n    function renderRoutes() {\r\n        let complete = [];\r\n        return (\r\n            starchart.map((planet) => {\r\n                return planet.connections.filter(x => !complete[x]).map((connection) => {\r\n                    let planetB = starchart.find(p => p.name === connection.name);\r\n                    let style = {\r\n                        stroke: \"#cfe3cf\",\r\n                        strokeWidth: 1.5\r\n                    }\r\n                    return (\r\n                        <line key={uuidv4()} style={style}\r\n                            x1={planet.xCord}\r\n                            y1={planet.yCord}\r\n                            x2={planetB.xCord}\r\n                            y2={planetB.yCord}\r\n                        />\r\n                    );\r\n                });\r\n            })\r\n        )\r\n    }\r\n\r\n    function renderPlanetNames() {\r\n        let style = {\r\n            fontSize: \"0.6em\",\r\n            fill: \"#a1c5ff\",\r\n            WebkitTouchCallout: \"none\",\r\n            WebkitUserSelect: \"none\",\r\n            khtmlUserSelect: \"none\",\r\n            MozUserSelect: \"none\",\r\n            msUserSelect: \"none\",\r\n            UserSelect: \"none\"\r\n        }\r\n        return (\r\n            starchart.map((planet) => {\r\n                return <text style={style} key={planet.name} x={planet.xCord} y={planet.yCord - 5}>{planet.name}</text>;\r\n            })\r\n        )\r\n    }\r\n\r\n    function renderPlanetNames2() {\r\n        let style = {\r\n            fontSize: \"0.6em\",\r\n            fill: \"#000000\",\r\n            WebkitTouchCallout: \"none\",\r\n            WebkitUserSelect: \"none\",\r\n            khtmlUserSelect: \"none\",\r\n            MozUserSelect: \"none\",\r\n            msUserSelect: \"none\",\r\n            UserSelect: \"none\"\r\n        }\r\n        return (\r\n            starchart.map((planet) => {\r\n                return <text style={style} key={planet.name} x={planet.xCord+0.8} y={planet.yCord - 5.8}>{planet.name}</text>;\r\n            })\r\n        )\r\n    }\r\n\r\n    function renderRoute(){\r\n        if(shippingRoute){\r\n            return (\r\n                shippingRoute.map((planet, index)=> {\r\n                    if(shippingRoute.length > index + 1){\r\n                        let style = {\r\n                            stroke: \"#008a09\",\r\n                            strokeWidth: 4\r\n                        }\r\n                        return (\r\n                            <line\r\n                                key={uuidv4()}\r\n                                style={style}\r\n                                x1={planet.xCord}\r\n                                y1={planet.yCord}\r\n                                x2={shippingRoute[index+1].xCord}\r\n                                y2={shippingRoute[index+1].yCord}\r\n                            />\r\n                        );\r\n                    }\r\n                    return <div key={uuidv4()} ></div>;\r\n                })\r\n            )\r\n        }\r\n    }\r\n\r\n    function handleMouseDown(e) {\r\n        let startingX = e.pageX;\r\n        let startingY = e.pageY;\r\n        let currentXOffset = viewBox.xOffset;\r\n        let currentYOffset = viewBox.yOffset;\r\n        function onMouseMove(e) {\r\n            let newXOffset = currentXOffset + (startingX - e.pageX)\r\n            let newYOffset = currentYOffset + (startingY - e.pageY)\r\n            if (newXOffset < 100) {\r\n                newXOffset = 100;\r\n            }\r\n            if (newYOffset < 0) {\r\n                newYOffset = 0;\r\n            }\r\n            if (newXOffset > 500) {\r\n                newXOffset = 500;\r\n            }\r\n            if (newYOffset > 250) {\r\n                newYOffset = 250;\r\n            }\r\n            setViewBox({\r\n                ...viewBox,\r\n                xOffset: newXOffset,\r\n                yOffset: newYOffset\r\n            })\r\n        }\r\n\r\n        function handleMouseUp(e) {\r\n            document.removeEventListener('mousemove', onMouseMove);\r\n            document.removeEventListener('mouseup', handleMouseUp);\r\n        }\r\n        document.addEventListener('mouseup', handleMouseUp);\r\n        document.addEventListener('mousemove', onMouseMove);\r\n    }\r\n\r\n    function handleScale(e) {\r\n        let scaleOffset = e;\r\n        let newScale = mapScale + (scaleOffset / 10);\r\n        if (newScale > 200) {\r\n            newScale = 200;\r\n        } else if (newScale < 50) {\r\n            newScale = 50;\r\n        }\r\n        setMapScale(newScale);\r\n    }\r\n\r\n    function viewBoxString() {\r\n        let string = viewBox.xOffset + \",\" + viewBox.yOffset + \",\" + viewBox.width * (mapScale / 100) + \",\" + viewBox.height * (mapScale / 100);\r\n        return string;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <svg\r\n                onMouseDown={(e) => handleMouseDown(e)}\r\n                onDragStart={() => { return false }}\r\n                viewBox={viewBoxString()}\r\n                id=\"svg_canvas\"\r\n                className=\"svg border\"\r\n                width=\"100%\"\r\n                height=\"450\"\r\n                style={{backgroundImage: 'url(\"https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1351&q=80\")'}}\r\n            >\r\n                {renderRoutes()}\r\n                {renderPlanets()}\r\n                {renderRoute()}\r\n                {renderPlanetNames2()}\r\n                {renderPlanetNames()}\r\n            </svg>\r\n            <div className=\"btn btn-info\" style={{ position: \"relative\", top: \"-50px\", left: \"10px\" }} onClick={() => handleScale(-100)}>+</div>\r\n            <div className=\"btn btn-info\" style={{ position: \"relative\", top: \"-50px\", left: \"20px\", width: \"35px\" }} onClick={() => handleScale(100)}>-</div>\r\n        </div>\r\n    )\r\n}","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../utils/UserContext\";\r\nimport axios from \"axios\";\r\nimport Starchart from \"../components/Starchart\";\r\n\r\nexport default function NewOrderForm(props) {\r\n    const options = props.chart.map(planet => ({\r\n        \"value\": planet.name,\r\n        \"label\": planet.name\r\n    }));\r\n    const { user } = useContext(UserContext);\r\n    const [newOrder, setNewOrder] = useState();\r\n    const [calculating, setCalculating] = useState(false);\r\n    const [orderReady, setOrderReady] = useState(false);\r\n    const [shippingRoute, setShippingRoute] = useState([]);\r\n    const [redirect, setRedirect] = useState({ enabled: false, route: \"\" });\r\n\r\n    useEffect(() => {\r\n        if (props.chart.length > 1) {\r\n            setNewOrder({\r\n                startPoint: props.chart[0].name,\r\n                endPoint: props.chart[0].name,\r\n                customer: user.companyName\r\n            })\r\n        }\r\n    }, [props, user]);\r\n\r\n    const calculateCost = () => {\r\n        setCalculating(true);\r\n        axios.post('/api/starchart/calculate', {\r\n            startPoint: newOrder.startPoint,\r\n            endPoint: newOrder.endPoint\r\n        }).then((response) => {\r\n            setShippingRoute(response.data.route);\r\n            setNewOrder({\r\n                ...newOrder,\r\n                distance: response.data.distance,\r\n                customerCharge: response.data.customerCharge\r\n            });\r\n            setOrderReady(true);\r\n        })\r\n    }\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        console.log(newOrder);\r\n        axios.post('/api/order', { ...newOrder })\r\n            .then(async (response) => {\r\n                console.log(response.data);\r\n                setRedirect({ enabled: true, route: \"/\" });\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    };\r\n\r\n    const renderCalculateBtn = () => {\r\n        if (!orderReady) {\r\n            return (\r\n                <div>\r\n                    <button disabled={calculating} onClick={() => calculateCost()}>Calculate</button>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const renderCostSumbit = () => {\r\n        if (orderReady) {\r\n            return (\r\n                <>\r\n                    <label>Shipping Cost:</label>\r\n                    <span> ${newOrder.customerCharge}</span>\r\n                    <div>\r\n                        <button type=\"submit\" >Submit</button>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n    const renderRedirect = () => {\r\n        if (redirect.enabled) {\r\n            return <Redirect to={redirect.route} />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {renderRedirect()}\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <Starchart chart={props.chart} route={shippingRoute} />\r\n                </div>\r\n            </div>\r\n            <h3 className=\"bg-light rounded border\">Create New Order</h3>\r\n            <form className=\"mb-5\" onSubmit={handleSubmit}>\r\n                <label className=\"p-1\">\r\n                    <p>Shipping from:</p>\r\n                    <select className=\"p-1\" type=\"text\" onChange={e => setNewOrder({ ...newOrder, startPoint: e.target.value })} >\r\n                        {options.map((option) => {\r\n                            return <option key={option.label} value={option.value}>{option.label}</option>\r\n                        })}\r\n                    </select>\r\n                </label>\r\n                <label className=\"p-1\">\r\n                    <p>Shipping to:</p>\r\n                    <select className=\"p-1\" type=\"text\" onChange={e => setNewOrder({ ...newOrder, endPoint: e.target.value })} >\r\n                        {options.map((option) => {\r\n                            return <option key={option.label} value={option.value}>{option.label}</option>\r\n                        })}\r\n                    </select>\r\n                </label>\r\n                {renderCalculateBtn()}\r\n                {renderCostSumbit()}\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport default function CustomerShippingOrder(props) {\r\n\r\n    return (\r\n        <div>\r\n            <h3 className=\"bg-light rounded border\">Active Orders</h3>\r\n            <div className=\"container\">\r\n                <div className=\"row border-bottom\">\r\n                    <div className=\"col\">Start Point</div>\r\n                    <div className=\"col\">End Point</div>\r\n                    <div className=\"col\">Distance</div>\r\n                    <div className=\"col\">Carrier Assigned</div>\r\n                    <div className=\"col\">Status</div>\r\n                </div>\r\n                {props.displayOrders.map(order => {\r\n                    return (\r\n                        <div key={uuidv4()} className=\"row\">\r\n                            <div key={uuidv4()} className=\"col\">{order.startPoint}</div>\r\n                            <div key={uuidv4()} className=\"col\">{order.endPoint}</div>\r\n                            <div key={uuidv4()} className=\"col\">{order.distance}</div>\r\n                            <div key={uuidv4()} className=\"col\">{order.carrier}</div>\r\n                            <div key={uuidv4()} className=\"col\">{order.status}</div>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState, useContext, useEffect } from \"react\";\r\nimport UserContext from \"../utils/UserContext\";\r\nimport axios from \"axios\";\r\nimport LogoutLink from \"../components/LogoutLink\";\r\nimport NewOrderForm from \"../components/NewOrderForm\";\r\nimport CustomerShippingOrders from \"../components/CustomerShippingOrders\";\r\n\r\n\r\nexport default function CustomerDashboard() {\r\n  const { user } = useContext(UserContext);\r\n  const [starchart, setStarchart] = useState([]);\r\n  const [displayOrders, setDisplayOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/starchart').then(data => {\r\n      setStarchart(data.data);\r\n    }).catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    axios.post('/api/order/search', { customer: user.companyName })\r\n      .then(response => {\r\n        setDisplayOrders(response.data);\r\n      })\r\n  }, [user])\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row bg-info text-white\">\r\n        <div className=\"col-9\">\r\n          <h1 className=\"\">Customer Dashboard for {user.username}</h1>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <LogoutLink />\r\n        </div>\r\n      </div>\r\n      <NewOrderForm chart={starchart} />\r\n      <CustomerShippingOrders displayOrders={displayOrders} />\r\n\r\n    </div>\r\n  )\r\n}","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default function CarrierShippingOrder(props) {\r\n\r\n    const [redirect, setRedirect] = useState({ enabled: false, route: \"\" });\r\n\r\n    const handleStatusUpdate = (e) => {\r\n        if (e.currentTarget.dataset.div_status === \"active\") {\r\n            axios.put('/api/order/' + e.currentTarget.dataset.div_id, { status: \"Complete\" })\r\n                .then(response => {\r\n                    console.log(response.data);\r\n                    setRedirect({ enabled: true, route: \"/\" });\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }\r\n\r\n    const renderRedirect = () => {\r\n        if (redirect.enabled) {\r\n            return <Redirect to={redirect.route} />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            {renderRedirect()}\r\n            <div className=\"row border-bottom\">\r\n                <div className=\"col\">Start Point</div>\r\n                <div className=\"col\">End Point</div>\r\n                <div className=\"col\">Distance</div>\r\n                <div className=\"col\">Carrier Assigned</div>\r\n                <div className=\"col\">Status</div>\r\n            </div>\r\n            {props.displayOrders.map(order => {\r\n                return (\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">{order.startPoint}</div>\r\n                        <div className=\"col\">{order.endPoint}</div>\r\n                        <div className=\"col\">{order.distance}</div>\r\n                        <div className=\"col\">{order.carrier}</div>\r\n                        <div className=\"col\">\r\n                            <div\r\n                                onClick={(e) => handleStatusUpdate(e)}\r\n                                data-div_id={order._id}\r\n                                data-div_status={order.status}\r\n                                className=\"btn btn-info\">{order.status}</div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../utils/UserContext\";\r\nimport axios from \"axios\";\r\n\r\nexport default function AvailableOrders() {\r\n    const [availableOrders, setAvailableOrders] = useState([]);\r\n    const [pageNumber, setPageNumber] = useState(0);\r\n    const { user } = useContext(UserContext);\r\n    const [redirect, setRedirect] = useState({ enabled: false, route: \"\" });\r\n\r\n    useEffect(() => {\r\n        axios.post('/api/order/search', { carrier: null }).then(response => {\r\n            setAvailableOrders(response.data);\r\n        }).catch((err) => {\r\n            console.log(err);\r\n        });\r\n    }, []);\r\n\r\n    const claimOrder = (e) => {\r\n        console.log(e.currentTarget.dataset.div_id);\r\n        axios.put('/api/order/'+e.currentTarget.dataset.div_id, { carrier: user.companyName, status: \"active\" })\r\n        .then(response => {\r\n            console.log(response.data);\r\n            setRedirect({ enabled: true, route: \"/\" });\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    const prevPage = () => {\r\n        setPageNumber(pageNumber - 1);\r\n    }\r\n\r\n    const nextPage = () => {\r\n        setPageNumber(pageNumber + 1);\r\n    }\r\n\r\n    const renderOrders = () => {\r\n        let pageArray = [];\r\n        for (let x = pageNumber * 10; x < pageNumber * 10 + 10 && x < availableOrders.length; x++) {\r\n            pageArray.push(availableOrders[x]);\r\n        };\r\n\r\n        return pageArray.map(order => {\r\n            return (\r\n                <div className=\"row\">\r\n                    <div className=\"col\">{order.startPoint}</div>\r\n                    <div className=\"col\">{order.endPoint}</div>\r\n                    <div className=\"col\">{order.distance}</div>\r\n                    <div className=\"col\">\r\n                        <div data-div_id={order._id} onClick={claimOrder} className=\"m-1 px-5 btn btn-info\">Claim</div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n    const renderRedirect = () => {\r\n        if (redirect.enabled) {\r\n            return <Redirect to={redirect.route} />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {renderRedirect()}\r\n            <h3 className=\"bg-light rounded border\">Available Orders</h3>\r\n            <div className=\"container\">\r\n                <div className=\"row border-bottom\">\r\n                    <div className=\"col\">Start Point</div>\r\n                    <div className=\"col\">End Point</div>\r\n                    <div className=\"col\">Distance</div>\r\n                    <div className=\"col\"></div>\r\n                </div>\r\n                {renderOrders()}\r\n            </div>\r\n            <button onClick={() => prevPage()} disabled={pageNumber > 0 ? \"\" : true} className=\"btn btn-info mr-2\">Previous page</button>\r\n            <button onClick={() => nextPage()} disabled={availableOrders.length - pageNumber * 10 > 10 ? \"\" : true} className=\"btn btn-info px-4\">Next page</button>\r\n        </div>\r\n    )\r\n}","import React, { useState, useContext, useEffect } from \"react\";\r\nimport UserContext from \"../utils/UserContext\";\r\nimport axios from \"axios\";\r\nimport LogoutLink from \"../components/LogoutLink\";\r\nimport CarrierShippingOrders from \"../components/CarrierShippingOrders\";\r\nimport AvailableOrders from \"../components/AvailableOrders\";\r\n\r\nexport default function CarrierDashboard() {\r\n  const { user } = useContext(UserContext);\r\n  const [displayOrders, setDisplayOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.post('/api/order/search', { carrier:user.companyName })\r\n      .then(response => {\r\n        setDisplayOrders(response.data);\r\n      })\r\n  }, [user])\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row bg-info text-white\">\r\n        <div className=\"col-9\">\r\n          <h1 className=\"\">Carrier Dashboard for {user.username}</h1>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <LogoutLink />\r\n        </div>\r\n      </div>\r\n      <AvailableOrders />\r\n      <h3 className=\"bg-light rounded border\">Claimed Orders</h3>\r\n      <CarrierShippingOrders displayOrders={displayOrders} />\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport UserContext from \"../utils/UserContext\";\r\n\r\nexport default function RepresentativeDashboard() {\r\n  const { user } = useContext(UserContext);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n        <h1>Representative Dashboard for {user.username}</h1>\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../utils/UserContext\";\r\n\r\nexport default function ProtectedRoute({ children }){\r\n    const { user } = useContext(UserContext);\r\n\r\n    // If there is no user logged in (i.e. stored in state) then redirect to login\r\n    if(!user){\r\n        return(\r\n            <Redirect to=\"/login\" />\r\n        )\r\n    }\r\n\r\n    return(children)\r\n}","import React, { useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../utils/UserContext\";\r\n\r\nexport default function ProtectedRoute({ children }){\r\n    const { user } = useContext(UserContext);\r\n\r\n    // If there is no user logged in (i.e. stored in state) then redirect to login\r\n    if(!user){\r\n        return(children)\r\n    }\r\n\r\n    return(\r\n        <Redirect to={\"/\"+user.type+\"/dashboard\"} />\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport UserContext from \"./utils/UserContext\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport RegisterPage from \"./pages/RegisterPage\";\r\nimport CustomerDashboard from \"./pages/CustomerDashboard\";\r\nimport CarrierDashboard from \"./pages/CarrierDashboard\";\r\nimport RepresentativeDashboard from \"./pages/RepresentativeDashboard\";\r\nimport ProtectedRoute from \"./components/ProtectedRoute\";\r\nimport CheckIfLoggedIn from \"./components/CheckIfLoggedIn\";\r\nimport jwt from \"jwt-simple\";\r\n\r\nfunction App() {\r\n  const secret = \"blackhole\";\r\n  const [user, setUser] = useState();\r\n\r\n  useEffect(()=>{\r\n    const localUserToken = JSON.parse(localStorage.getItem(\"userToken\"));\r\n    if(localUserToken){\r\n      const localUser = jwt.decode(localUserToken,secret);\r\n      setUser(localUser);\r\n    }\r\n  },[]);\r\n\r\n  console.log(\"welcome to app\");\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <UserContext.Provider value={{ user, setUser }}>\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/login\">\r\n              <CheckIfLoggedIn>\r\n                <LoginPage />\r\n              </CheckIfLoggedIn>\r\n            </Route>\r\n            <Route exact path=\"/register\" >\r\n              <RegisterPage />\r\n            </Route>\r\n            <Route exact path=\"/customer/dashboard\">\r\n              <ProtectedRoute>\r\n                <CustomerDashboard />\r\n              </ProtectedRoute>\r\n            </Route>\r\n            <Route exact path=\"/carrier/dashboard\">\r\n              <ProtectedRoute>\r\n                <CarrierDashboard />\r\n              </ProtectedRoute>\r\n            </Route>\r\n            <Route exact path=\"/rep/dashboard\">\r\n              <ProtectedRoute>\r\n                <RepresentativeDashboard />\r\n              </ProtectedRoute>\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <Redirect to=\"/login\" />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </UserContext.Provider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}